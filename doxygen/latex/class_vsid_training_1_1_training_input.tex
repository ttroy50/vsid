\hypertarget{class_vsid_training_1_1_training_input}{\section{Vsid\-Training\-:\-:Training\-Input Class Reference}
\label{class_vsid_training_1_1_training_input}\index{Vsid\-Training\-::\-Training\-Input@{Vsid\-Training\-::\-Training\-Input}}
}


{\ttfamily \#include $<$Training\-Input.\-h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{class_vsid_training_1_1_training_input_aa62c31bea8a9151cda5bdfadd8aa6d96}{read} (const std\-::string \&filename, \hyperlink{class_vsid_1_1_protocol_model_db}{Vsid\-::\-Protocol\-Model\-Db} $\ast$protocol\-Model\-Db)
\item 
std\-::vector$<$ \hyperlink{class_vsid_training_1_1_training_file}{Training\-File} $>$ \& \hyperlink{class_vsid_training_1_1_training_input_a808d2ab081b175e4ea0490995fed4493}{training\-Files} ()
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static uint8\-\_\-t \hyperlink{class_vsid_training_1_1_training_input_a44bef3969896dadbdb2df4a7af7b1ab2}{str\-To\-Transport} (const std\-::string \&str)
\item 
static \hyperlink{namespace_vsid_training_a3bd76b3dc03035a8bde253556505b46a}{Protocol} \hyperlink{class_vsid_training_1_1_training_input_adb57feb04abb6a43a8ef3a7bc2afadd3}{str\-To\-Protocol} (const std\-::string \&str)
\item 
static std\-::string \hyperlink{class_vsid_training_1_1_training_input_a3c6a3653fe271f5fa2bee927374434ee}{protocol\-To\-Str} (\hyperlink{namespace_vsid_training_a3bd76b3dc03035a8bde253556505b46a}{Protocol} protocol)
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 53 of file Training\-Input.\-h.



\subsection{Member Function Documentation}
\hypertarget{class_vsid_training_1_1_training_input_a3c6a3653fe271f5fa2bee927374434ee}{\index{Vsid\-Training\-::\-Training\-Input@{Vsid\-Training\-::\-Training\-Input}!protocol\-To\-Str@{protocol\-To\-Str}}
\index{protocol\-To\-Str@{protocol\-To\-Str}!VsidTraining::TrainingInput@{Vsid\-Training\-::\-Training\-Input}}
\subsubsection[{protocol\-To\-Str}]{\setlength{\rightskip}{0pt plus 5cm}std\-::string Training\-Input\-::protocol\-To\-Str (
\begin{DoxyParamCaption}
\item[{{\bf Protocol}}]{protocol}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{class_vsid_training_1_1_training_input_a3c6a3653fe271f5fa2bee927374434ee}


Definition at line 132 of file Training\-Input.\-cpp.


\begin{DoxyCode}
133 \{
134     \textcolor{keywordflow}{switch}(protocol)
135     \{
136         \textcolor{keywordflow}{case} \hyperlink{namespace_vsid_training_a3bd76b3dc03035a8bde253556505b46aae5aecfb95a1d758600dd6a6473906681}{HTTP}:
137             \textcolor{keywordflow}{return} \textcolor{stringliteral}{"HTTP"};
138         \textcolor{keywordflow}{case} \hyperlink{namespace_vsid_training_a3bd76b3dc03035a8bde253556505b46aab4267ac049308009d56315c598568c4f}{HTTPS}:
139             \textcolor{keywordflow}{return} \textcolor{stringliteral}{"HTTPS"};
140         \textcolor{keywordflow}{case} \hyperlink{namespace_vsid_training_a3bd76b3dc03035a8bde253556505b46aa19ee581751a032455b9d4e21438cdc9b}{SIP}:
141             \textcolor{keywordflow}{return} \textcolor{stringliteral}{"SIP"};
142         \textcolor{keywordflow}{case} \hyperlink{namespace_vsid_training_a3bd76b3dc03035a8bde253556505b46aa1988196dd91b28ee5d5f2d84bf5fe263}{HTTP\_PROGRESSIVE}:
143             \textcolor{keywordflow}{return} \textcolor{stringliteral}{"HTTP-Progressive"};
144         \textcolor{keywordflow}{case} \hyperlink{namespace_vsid_training_a3bd76b3dc03035a8bde253556505b46aa4a08dc49017154b0e5fb445f52b28949}{RTMP}:
145             \textcolor{keywordflow}{return} \textcolor{stringliteral}{"RTMP"};
146         \textcolor{keywordflow}{case} \hyperlink{namespace_vsid_training_a3bd76b3dc03035a8bde253556505b46aaac16bcce8fb8a2ee2c37e66a293b2788}{DNS}:
147             \textcolor{keywordflow}{return} \textcolor{stringliteral}{"DNS"};
148     \}
149 
150     \textcolor{keywordflow}{return} \textcolor{stringliteral}{""};
151 \}
\end{DoxyCode}
\hypertarget{class_vsid_training_1_1_training_input_aa62c31bea8a9151cda5bdfadd8aa6d96}{\index{Vsid\-Training\-::\-Training\-Input@{Vsid\-Training\-::\-Training\-Input}!read@{read}}
\index{read@{read}!VsidTraining::TrainingInput@{Vsid\-Training\-::\-Training\-Input}}
\subsubsection[{read}]{\setlength{\rightskip}{0pt plus 5cm}bool Training\-Input\-::read (
\begin{DoxyParamCaption}
\item[{const std\-::string \&}]{filename, }
\item[{{\bf Vsid\-::\-Protocol\-Model\-Db} $\ast$}]{protocol\-Model\-Db}
\end{DoxyParamCaption}
)}}\label{class_vsid_training_1_1_training_input_aa62c31bea8a9151cda5bdfadd8aa6d96}


Definition at line 25 of file Training\-Input.\-cpp.


\begin{DoxyCode}
26 \{
27 
28     \textcolor{comment}{// parse the atom/yaml...}
29     YAML::Node config;
30     \textcolor{keywordflow}{try} 
31     \{
32         config = YAML::LoadFile(fileName);
33     \} 
34     \textcolor{keywordflow}{catch} (YAML::Exception& e)
35     \{
36         \hyperlink{_logger_8h_aa2ffef3c03ca18789b5d04ac9b260128}{LOG\_ERROR}((\textcolor{stringliteral}{"Exception loading file [%v] into YAML [%v]"}, fileName, e.what()));
37         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
38     \}
39 
40     \textcolor{keywordflow}{for} (YAML::const\_iterator it=config.begin(); it!=config.end(); ++it) 
41     \{
42         \hyperlink{class_vsid_training_1_1_training_file}{TrainingFile} pcapFile;
43         pcapFile.\hyperlink{class_vsid_training_1_1_training_file_a91ebe9f6b1a3af67d8f4540587eadbf3}{filename} = (*it)[\textcolor{stringliteral}{"file"}].as<std::string>();
44 
45         \textcolor{keywordflow}{for} (YAML::const\_iterator fls = (*it)[\textcolor{stringliteral}{"flows"}].begin(); 
46                 fls != (*it)[\textcolor{stringliteral}{"flows"}].end(); ++fls)
47         \{
48             \hyperlink{class_vsid_training_1_1_training_flow}{TrainingFlow} flow;
49 
50             \textcolor{comment}{// src}
51             \textcolor{keywordtype}{string} src\_ip = (*fls)[\textcolor{stringliteral}{"src\_ip"}].as<\textcolor{keywordtype}{string}>();
52             \textcolor{keyword}{struct }sockaddr\_in src\_sa;
53             \textcolor{keywordflow}{if}(inet\_pton(AF\_INET, src\_ip.c\_str(), &(src\_sa.sin\_addr)) != 1)
54             \{
55                 \hyperlink{_logger_8h_a2a8694cd392d18f4db6b9cc9f15bafe3}{SLOG\_ERROR}( << \textcolor{stringliteral}{"Error converting src address ["} << src\_ip << \textcolor{stringliteral}{"] : "} << strerror(
      errno));
56                 \textcolor{keywordflow}{continue};
57             \} 
58             flow.\hyperlink{class_vsid_training_1_1_training_flow_a687b85a2f6d23cb0ea63f61637df5bcf}{tuple}.\hyperlink{class_vsid_common_1_1_i_pv4_tuple_a2db76e768086b4ac0aabfed850940c76}{src\_ip} = src\_sa.sin\_addr.s\_addr;
59             flow.\hyperlink{class_vsid_training_1_1_training_flow_a687b85a2f6d23cb0ea63f61637df5bcf}{tuple}.\hyperlink{class_vsid_common_1_1_i_pv4_tuple_a68b8ec74e1abb0d15ba66c48837a1662}{src\_port} = (*fls)[\textcolor{stringliteral}{"src\_port"}].as<uint16\_t>();
60 
61             \textcolor{comment}{// dst}
62             \textcolor{keywordtype}{string} dst\_ip = (*fls)[\textcolor{stringliteral}{"dst\_ip"}].as<\textcolor{keywordtype}{string}>();
63             \textcolor{keyword}{struct }sockaddr\_in dst\_sa;
64             \textcolor{keywordflow}{if}(inet\_pton(AF\_INET, dst\_ip.c\_str(), &(dst\_sa.sin\_addr)) != 1)
65             \{
66                 \hyperlink{_logger_8h_a2a8694cd392d18f4db6b9cc9f15bafe3}{SLOG\_ERROR}( << \textcolor{stringliteral}{"Error converting dst address ["} << dst\_ip << \textcolor{stringliteral}{"] : "} << strerror(
      errno));
67                 \textcolor{keywordflow}{continue};
68             \}
69             flow.\hyperlink{class_vsid_training_1_1_training_flow_a687b85a2f6d23cb0ea63f61637df5bcf}{tuple}.\hyperlink{class_vsid_common_1_1_i_pv4_tuple_a21ace381c0b90771659095178d0f15af}{dst\_ip} = dst\_sa.sin\_addr.s\_addr;
70             flow.\hyperlink{class_vsid_training_1_1_training_flow_a687b85a2f6d23cb0ea63f61637df5bcf}{tuple}.\hyperlink{class_vsid_common_1_1_i_pv4_tuple_a1c1d101406314b12ce43cc1d54177736}{dst\_port} = (*fls)[\textcolor{stringliteral}{"dst\_port"}].as<uint16\_t>();
71 
72             \textcolor{comment}{// transport}
73             \textcolor{keywordtype}{string} transport = (*fls)[\textcolor{stringliteral}{"transport"}].as<\textcolor{keywordtype}{string}>();
74             flow.\hyperlink{class_vsid_training_1_1_training_flow_a687b85a2f6d23cb0ea63f61637df5bcf}{tuple}.\hyperlink{class_vsid_common_1_1_i_pv4_tuple_a39c4c8ec9aaa3f80d17daaefb783beec}{transport} = \hyperlink{class_vsid_training_1_1_training_input_a44bef3969896dadbdb2df4a7af7b1ab2}{strToTransport}(transport);
75             \textcolor{keywordflow}{if}( flow.\hyperlink{class_vsid_training_1_1_training_flow_a687b85a2f6d23cb0ea63f61637df5bcf}{tuple}.\hyperlink{class_vsid_common_1_1_i_pv4_tuple_a39c4c8ec9aaa3f80d17daaefb783beec}{transport} == 0 )
76             \{
77                 \hyperlink{_logger_8h_a2a8694cd392d18f4db6b9cc9f15bafe3}{SLOG\_ERROR}( << \textcolor{stringliteral}{"Error converting transport ["} << transport << \textcolor{stringliteral}{"]"});
78                 \textcolor{keywordflow}{continue};
79             \}
80 
81             \textcolor{comment}{// protocol}
82             \textcolor{keywordtype}{string} protocol = (*fls)[\textcolor{stringliteral}{"protocol"}].as<\textcolor{keywordtype}{string}>();
83             flow.\hyperlink{class_vsid_training_1_1_training_flow_ac4d53b04d9cbf07636611ad9c6be3b95}{protocol} = protocol; \textcolor{comment}{//strToProtocol(protocol);}
84             \textcolor{keywordflow}{if}( !protocolModelDb->\hyperlink{class_vsid_1_1_protocol_model_db_a542f3434c2a9d97ee2632200372a6a88}{find}(protocol) )
85             \{
86                 \hyperlink{_logger_8h_a2a8694cd392d18f4db6b9cc9f15bafe3}{SLOG\_ERROR}( << \textcolor{stringliteral}{"Cannot find protocol in protocol DB ["} << protocol << \textcolor{stringliteral}{"]"});
87                 \textcolor{keywordflow}{continue};
88             \}
89 
90             pcapFile.\hyperlink{class_vsid_training_1_1_training_file_aaaa833a3a302e0abe9bd081abd4b7867}{flows}.push\_back(flow);
91         \}
92 
93         \hyperlink{_logger_8h_a119c1c29ba35a8db38e2358e41167282}{SLOG\_INFO}( << \textcolor{stringliteral}{"Adding training file : "} << pcapFile.\hyperlink{class_vsid_training_1_1_training_file_a91ebe9f6b1a3af67d8f4540587eadbf3}{filename} );
94         \_trainingFiles.push\_back(pcapFile);
95 
96     \}
97 
98     \hyperlink{_logger_8h_a119c1c29ba35a8db38e2358e41167282}{SLOG\_INFO}( << \textcolor{stringliteral}{"Added ["} << \_trainingFiles.size() << \textcolor{stringliteral}{"] training files"} );
99     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
100 
101 \}
\end{DoxyCode}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_vsid_training_1_1_training_input_aa62c31bea8a9151cda5bdfadd8aa6d96_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=288pt]{class_vsid_training_1_1_training_input_aa62c31bea8a9151cda5bdfadd8aa6d96_icgraph}
\end{center}
\end{figure}


\hypertarget{class_vsid_training_1_1_training_input_adb57feb04abb6a43a8ef3a7bc2afadd3}{\index{Vsid\-Training\-::\-Training\-Input@{Vsid\-Training\-::\-Training\-Input}!str\-To\-Protocol@{str\-To\-Protocol}}
\index{str\-To\-Protocol@{str\-To\-Protocol}!VsidTraining::TrainingInput@{Vsid\-Training\-::\-Training\-Input}}
\subsubsection[{str\-To\-Protocol}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Protocol} Training\-Input\-::str\-To\-Protocol (
\begin{DoxyParamCaption}
\item[{const std\-::string \&}]{str}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{class_vsid_training_1_1_training_input_adb57feb04abb6a43a8ef3a7bc2afadd3}


Definition at line 114 of file Training\-Input.\-cpp.


\begin{DoxyCode}
115 \{
116     \textcolor{keywordflow}{if}(str == \textcolor{stringliteral}{"HTTP"})
117         \textcolor{keywordflow}{return} \hyperlink{namespace_vsid_training_a3bd76b3dc03035a8bde253556505b46aae5aecfb95a1d758600dd6a6473906681}{HTTP};
118     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(str == \textcolor{stringliteral}{"HTTPS"})
119         \textcolor{keywordflow}{return} \hyperlink{namespace_vsid_training_a3bd76b3dc03035a8bde253556505b46aab4267ac049308009d56315c598568c4f}{HTTPS};
120     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(str == \textcolor{stringliteral}{"HTTPS"})
121         \textcolor{keywordflow}{return} \hyperlink{namespace_vsid_training_a3bd76b3dc03035a8bde253556505b46aa19ee581751a032455b9d4e21438cdc9b}{SIP};
122     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( str == \textcolor{stringliteral}{"HTTP-Progressive"})
123         \textcolor{keywordflow}{return} \hyperlink{namespace_vsid_training_a3bd76b3dc03035a8bde253556505b46aa1988196dd91b28ee5d5f2d84bf5fe263}{HTTP\_PROGRESSIVE};
124     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (str == \textcolor{stringliteral}{"DNS"})
125         \textcolor{keywordflow}{return} \hyperlink{namespace_vsid_training_a3bd76b3dc03035a8bde253556505b46aaac16bcce8fb8a2ee2c37e66a293b2788}{DNS};
126     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (str == \textcolor{stringliteral}{"RTMP"})
127         \textcolor{keywordflow}{return} \hyperlink{namespace_vsid_training_a3bd76b3dc03035a8bde253556505b46aa4a08dc49017154b0e5fb445f52b28949}{RTMP};
128     \textcolor{keywordflow}{else}
129         \textcolor{keywordflow}{return} \hyperlink{namespace_vsid_training_a3bd76b3dc03035a8bde253556505b46aae9b392da625bf1bf9f2d738a4bc6bdb0}{UNKNOWN};
130 \}
\end{DoxyCode}
\hypertarget{class_vsid_training_1_1_training_input_a44bef3969896dadbdb2df4a7af7b1ab2}{\index{Vsid\-Training\-::\-Training\-Input@{Vsid\-Training\-::\-Training\-Input}!str\-To\-Transport@{str\-To\-Transport}}
\index{str\-To\-Transport@{str\-To\-Transport}!VsidTraining::TrainingInput@{Vsid\-Training\-::\-Training\-Input}}
\subsubsection[{str\-To\-Transport}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t Training\-Input\-::str\-To\-Transport (
\begin{DoxyParamCaption}
\item[{const std\-::string \&}]{str}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{class_vsid_training_1_1_training_input_a44bef3969896dadbdb2df4a7af7b1ab2}


Definition at line 104 of file Training\-Input.\-cpp.


\begin{DoxyCode}
105 \{
106     \textcolor{keywordflow}{if}(str == \textcolor{stringliteral}{"TCP"})
107         \textcolor{keywordflow}{return} IPPROTO\_TCP;
108     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(str == \textcolor{stringliteral}{"UDP"})
109         \textcolor{keywordflow}{return} IPPROTO\_UDP;
110     \textcolor{keywordflow}{else}
111         \textcolor{keywordflow}{return} 0;
112 \}
\end{DoxyCode}
\hypertarget{class_vsid_training_1_1_training_input_a808d2ab081b175e4ea0490995fed4493}{\index{Vsid\-Training\-::\-Training\-Input@{Vsid\-Training\-::\-Training\-Input}!training\-Files@{training\-Files}}
\index{training\-Files@{training\-Files}!VsidTraining::TrainingInput@{Vsid\-Training\-::\-Training\-Input}}
\subsubsection[{training\-Files}]{\setlength{\rightskip}{0pt plus 5cm}std\-::vector$<${\bf Training\-File}$>$\& Vsid\-Training\-::\-Training\-Input\-::training\-Files (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{class_vsid_training_1_1_training_input_a808d2ab081b175e4ea0490995fed4493}


Definition at line 63 of file Training\-Input.\-h.


\begin{DoxyCode}
63 \{ \textcolor{keywordflow}{return} \_trainingFiles; \}
\end{DoxyCode}


Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=288pt]{class_vsid_training_1_1_training_input_a808d2ab081b175e4ea0490995fed4493_icgraph}
\end{center}
\end{figure}




The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
src/training/inc/\hyperlink{_training_input_8h}{Training\-Input.\-h}\item 
src/training/src/\hyperlink{_training_input_8cpp}{Training\-Input.\-cpp}\end{DoxyCompactItemize}
